<html ng-app="myapp">
<head>
 <script type="text/javascript" src="/scripts/jquery-1.11.3.min.js"></script>
 <script type="text/javascript" src="/scripts/angular.min.js"></script>
 <script type="text/javascript" src="/scripts/upl/jquery.ui.widget.js"></script>
 <script type="text/javascript" src="/scripts/upl/load-image.all.min.js"></script>
 <script type="text/javascript" src="/scripts/upl/canvas-to-blob.min.js"></script>
 <script type="text/javascript" src="/scripts/upl/jquery.iframe-transport.js"></script>
 <script type="text/javascript" src="/scripts/upl/jquery.fileupload.js"></script>
 <script type="text/javascript" src="/scripts/upl/jquery.fileupload-process.js"></script>
 <script type="text/javascript" src="/scripts/upl/jquery.fileupload-image.js"></script>
 <script type="text/javascript" src="/scripts/upl/jquery.fileupload-audio.js"></script>
 <script type="text/javascript" src="/scripts/upl/jquery.fileupload-video.js"></script>
 <script type="text/javascript" src="/scripts/upl/jquery.fileupload-validate.js"></script>
 <script type="text/javascript" src="/scripts/upl/jquery.fileupload-ui.js"></script>

 <style type="text/css">
	.modal {
	    display: none; /* Hidden by default */
	    position: fixed; /* Stay in place */
	    z-index: 1; /* Sit on top */
	    padding-top: 100px; /* Location of the box */
	    left: 0;
	    top: 0;
	    width: 100%; /* Full width */
	    height: 100%; /* Full height */
	    overflow: auto; /* Enable scroll if needed */
	    background-color: rgb(0,0,0); /* Fallback color */
	    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
	}

	/* Modal Content */
	.modal-content {
	    position: relative;
	    background-color: #fefefe;
	    margin: auto;
	    padding: 0;
	    border: 1px solid #888;
	    width: 80%;
	    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
	    -webkit-animation-name: animatetop;
	    -webkit-animation-duration: 0.4s;
	    animation-name: animatetop;
	    animation-duration: 0.4s
	}

	/* Add Animation */
	@-webkit-keyframes animatetop {
	    from {top:-300px; opacity:0} 
	    to {top:0; opacity:1}
	}

	@keyframes animatetop {
	    from {top:-300px; opacity:0}
	    to {top:0; opacity:1}
	}

	/* The Close Button */
	.close {
	    color: white;
	    float: right;
	    font-size: 28px;
	    font-weight: bold;
	}

	.close:hover,
	.close:focus {
	    color: #000;
	    text-decoration: none;
	    cursor: pointer;
	}

	.modal-header {
	    padding: 2px 16px;
	    background-color: #5cb85c;
	    color: white;
	    vertical-align: middle;
	    text-align: center;
	    min-height: 30px;
	}

	.modal-body {padding: 2px 16px;}

	.modal-footer {
	    padding: 2px 16px;
	    background-color: #5cb85c;
	    color: white;
	}
	.addData {
	    clear: both;
	    width: 100%;
	    padding: 0 0 45px;
	    margin-bottom: 10px;
	}
	.add_btn {
		border-radius:20px;
		padding:7px 20px;
		text-decoration:none;
		color:#fff;
		background: #43b8e4;
		background: -webkit-gradient(linear, 0 0, 0 bottom, from(#43b8e4), to(#3ca0c0));
		background: -webkit-linear-gradient(#43b8e4, #3ca0c0);
		background: -moz-linear-gradient(#43b8e4, #3ca0c0);
		background: -ms-linear-gradient(#43b8e4, #3ca0c0);
		background: -o-linear-gradient(#43b8e4, #3ca0c0);
		background: linear-gradient(#43b8e4, #3ca0c0);
		-pie-background: linear-gradient(#43b8e4, #3ca0c0);
		behavior: url(/pie/PIE.htc);
	}
	.addrow {
	    clear: both;
	    padding: 12px 0 0;
	}
	.addrow .fieldItem1 {
	    float: left;
	}
	.fieldwid1 {
	    width: 55%;
	    border-radius: 8px 0 0 8px;
	}
	.fieldItem1 {
	    height: 38px;
	    line-height: 38px;
	    border: 1px solid #a9d3bd;
	    background: rgb(255,255,255);
	    font-size: 14px;
	    color: #407073;
	    padding: 0 10px;
	    box-sizing: border-box;
	    border-radius: 8px;
	    -webkit-border-radius: 8px;
	    border-radius: 8px;
	    font-family: 'Open Sans', sans-serif;
	}
	.fieldwid2 {
	    border-radius: 0;
	    width: 10%;
	    border-left: none;
	}

	.file-upload {
	    position: relative;
	    overflow: hidden;
	    margin: 0 5px;
	    float: left;
	    line-height: 36px;
	    color: #333;
	    min-width: 50px;
	    text-align: center;
	    height: 36px;
	    cursor: pointer;
	    border: 1px solid #D4DBDC;
	    background: #F9F9F9;
	}
	.imgIcon {
	    float: left;
	}
	.delete {
	    color: rgb(167, 21, 21);
	    height: 36px;
	    float: left;
	    width: 40px;
	    text-align: center;
	    line-height: 36px;
	    border: 1px solid #D4DBDC;
	    background: #F9F9F9;
	}
	label {
	    cursor: default;
	}
	.resource {
	    background: rgb(107, 123, 138);
	}
	.add_btn {
	    border-radius: 20px;
	    padding: 7px 20px;
	    text-decoration: none;
	    color: #fff;
	    background: #43b8e4;
	    background: -webkit-gradient(linear, 0 0, 0 bottom, from(#43b8e4), to(#3ca0c0));
	    background: -webkit-linear-gradient(#43b8e4, #3ca0c0);
	    background: -moz-linear-gradient(#43b8e4, #3ca0c0);
	    background: -ms-linear-gradient(#43b8e4, #3ca0c0);
	    background: -o-linear-gradient(#43b8e4, #3ca0c0);
	    background: linear-gradient(#43b8e4, #3ca0c0);
	    -pie-background: linear-gradient(#43b8e4, #3ca0c0);
	    behavior: url(/pie/PIE.htc);
	}
	input[type="file"] {
	    display: block;
	}
	.file-upload input {
	    position: absolute;
	    top: 0px;
	    right: 0px;
	    margin: 0px;
	    padding: 0px;
	    font-size: 20px;
	    cursor: pointer;
	    opacity: 0;
	}
	.imgIcon img {
	    margin: 0 5px 0 0;
	    height: 36px;
	    width: 38px;
	    border: 1px solid #D4DBDC;
	}
	#specModal{
		position:absolute;
		overflow-y:scroll;
		padding-bottom: 10px; 
	}
 </style>
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
</head>
<body>
<div style="width: 100%">
	<div style="width: 60%;float: left;" ng-controller="mainController">
		<div id="lft-serv">
			<table border="1">
				<thead>
					<tr>
						<td> Service Name </td>
						<td> Description </td>
						<td> Icon </td>
						<td> Mob Descr </td>
						<td> Mob Icon </td>
						<td> Action </td>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="tbl in services">
						<td>{{ tbl.name }}</td>
						<td>{{ tbl.descr }}</td>
						<td style="display: none;">{{ tbl.image }}</td>
						<td><img ng-src="http://49.206.64.209:8083/uploaded/services/{{tbl.image}}" style="width: 50px;height: 50px;" /></td>
						<td>{{ tbl.mobileDecription }}</td>
						<td><img ng-src="http://49.206.64.209:8083/uploaded/services/{{tbl.mobileImage}}" style="width: 50px;height: 50px;" /></td>
						<td>
							<a class="a-add" data-serid="{{tbl._id}}" href="javascript:void(0)">Add Spec</a> <br /> 
							<a class="a-edit" data-serid="{{tbl._id}}" href="javascript:void(0)">Edit</a> <br /> 
							<a class="d-edit" data-serid="{{tbl._id}}" href="javascript:void(0)">Del</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div id="myModal" class="modal" >
		  <div class="modal-content">
		    <div class="modal-header">
		      <span class="close">×</span>
		      <span>Service Details</span>
		    </div>
		    <div class="modal-body">
		      <table>
		      	<tr>
		      		<td>Name</td>
		      		<td><input type="text" id="txtName"></input></td>
		      	</tr>
		      	<tr>
		      		<td>Description</td>
		      		<td><input type="text" ng-model="Descr" id="txtDesc"></input></td>
		      	</tr>
		      	<tr>
		      		<td>Icon</td>
		      		<td><input type="file" id="upl" data-url="http://49.206.64.209:8083/uploadService"></input></td>
		      	</tr>
		      	<tr>
		      		<td colspan="2" align="center">
		      			<div id="img-cont" style="display: none;">
		      				<img id="img-item" style="width:100px;height: 50px;" />
		      			</div>
		      		</td>
		      	</tr>
		      	<tr>
		      		<td>Mobile Description</td>
		      		<td><input type="text" ng-model="MobileDescr" id="mobileTxtDesc"></input></td>
		      	</tr>
		      	<tr>
		      		<td>Mobile Icon</td>
		      		<td><input type="file" id="mobileUpl" data-url="http://49.206.64.209:8083/uploadService"></input></td>
		      	</tr>
		      	<tr>
		      		<td colspan="2" align="center">
		      			<div id="mobile-img-cont" style="display: none;">
		      				<img id="mobile-img-item" style="width: 100px;height: 50px;" />
		      			</div>
		      		</td>
		      	</tr>
		      	<tr>
		      		<td>Mobile Menu Icon</td>
		      		<td><input type="file" id="mobileMenuImageUpl" data-url="http://49.206.64.209:8083/uploadService"></input></td>
		      	</tr>
		      	<tr>
		      		<td colspan="2" align="center">
		      			<div id="mobile-menu-img-cont" style="display: none;">
		      				<img id="mobile-menu-img-item" style="width: 100px;height: 50px;" />
		      			</div>
		      		</td>
		      	</tr>
		      	<tr>
		      		<td>Active</td>
		      		<td><input type="checkbox" id="currentState"></td>
		      	</tr>
		      </table>
		    </div>
		    <div class="modal-footer">
		    	<input type="button" value="Delete" id="btnDel" style="display: none;"></input>
				<input type="button" value="Save" id="btnSave"></input>
				<input type="button" value="Cancel" id="btnCancel"></input>      
				<span id="merrr" style="color: red;"></span>
		    </div>
		  </div>
		</div>
		<div id="specModal" class="modal">
		  <div class="modal-content">
		    <div class="modal-header">
		      <span class="close" id="specClose">×</span>
		      <span>Add Specialities</span>
		    </div>
		    <div class="modal-body">
		      <h2>Service Configuration</h2>
		      <div>
		      	<div class="item_row_full">
		      		<div class="addData add-spl-data">
		      			<label><a class="add_btn ad-spl-btn"><i class="fa fa-plus"></i>Speciality</a></label>
		      			
  					</div>
				</div>
	   		  </div>
		    </div>
		    <div class="modal-footer">
				<input type="button" value="Save" id="btnSaveSpec"></input>
				<input type="button" value="Cancel" id="btnCancelSpec"></input>      
				<span id="merrrSpec" style="color: red;"></span>
		    </div>
		  </div>
		</div>
		<input type="button" value="Add" id="btnAdd"></input>
		<span style="color: red;" id="errr"></span>
	</div>
	<div class="rit" ng-controller="clientController" style="width: 38%; float: left;">
		<div>
			<table border="1">
				<thead>
					<tr>
						<td> Client Name </td>
						<td> Description </td>
						<td> Webkey </td>
						<td> Action </td>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="tbl in clients">
						<td>{{ tbl.name }}</td>
						<td>{{ tbl.descr }}</td>
						<td>un: {{ tbl.webunkey }} <br/> pw: {{ tbl.webpwkey }}</td>
						<td>
							<a class="a-editClient" data-serid="{{tbl._id}}" href="javascript:void(0)">Edit</a> <br /> 
							<a class="d-editClient" data-serid="{{tbl._id}}" href="javascript:void(0)">Del</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div id="clientModal" class="modal">
		  <div class="modal-content">
		    <div class="modal-header">
		      <span class="close">×</span>
		      <span>Client Details</span>
		    </div>
		    <div class="modal-body">
		      <table ng-init="servcs = getservices()">
		      	<tr>
		      		<td>Name</td>
		      		<td><input type="text" id="txtNameClient"></input></td>
		      	</tr>
		      	<tr>
		      		<td>Description</td>
		      		<td><input type="text" id="txtDescClient"></input></td>
		      	</tr>
		      	<tr>
		      		<td>Web Key</td>
		      		<td>
		      			<table>
		      				<tr>
		      					<td>un</td>
		      					<td><input type="text" id="txtunKeyClient" readonly=""></input></td>
		      					<td>pw</td>
		      					<td><input type="text" id="txtpwKeyClient" readonly=""></input></td>
		      					<td><input type="button" id="btnKeyRegen" value="Generate"></input> </td>
		      				<tr>
		      			</table>
		      		 </td>
		      	</tr>
		      	<tr>
		      		<td colspan="2">
		      			<table>
		      				<tr ng-repeat="tbl in servcs">
		      					<td>{{ tbl.name }}</td>
								<td>{{ tbl.descr }}</td>
								<td><input type="checkbox" class="chk-ser" ng-model="tbl.selected" data-serid="{{ tbl._id }}" value="{{tbl._id}}"></input></td>
		      				</tr>
		      			</table>
		      		</td>
		      	</tr>
		      </table>
		    </div>
		    <div class="modal-footer">
		    	<input type="button" value="Delete" id="btnDelClient" style="display: none;"></input>
				<input type="button" value="Save" id="btnSaveClient"></input>
				<input type="button" value="Cancel" id="btnCancelClient"></input>      
				<span id="merrrClient" style="color: red;"></span>
		    </div>
		  </div>
		</div>
		<input type="button" value="Add" id="btnAddClient"></input>
		<span style="color: red;" id="errrClient"></span>
	</div>
</div>
<script type="text/javascript" src="/scripts/app-service.js"></script>
<script type="text/javascript" src="/scripts/app-clients.js"></script>
</body>
</html>
